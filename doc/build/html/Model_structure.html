<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="Model structure" />
<meta property="og:type" content="website" />
<meta property="og:url" content="Model_structure.html" />
<meta property="og:site_name" content="PREP-SHOT documentation" />
<meta property="og:description" content="Notations: 1. Sets:,,\text{te}, Total cost of whole energy system [USD],, h, Variable Operation and Maintenance (O&M) cost [USD],, m, Fixed O&M cost [USD],, z, Zone,, y, Year,,,, 2. Variables:,,\te..." />
<meta name="description" content="Notations: 1. Sets:,,\text{te}, Total cost of whole energy system [USD],, h, Variable Operation and Maintenance (O&M) cost [USD],, m, Fixed O&M cost [USD],, z, Zone,, y, Year,,,, 2. Variables:,,\te..." />
<meta name="description" content="\text{te} Total cost of whole energy system [USD] h Variable Operation and Maintenance (O&M) cost [USD] m Fixed O&M cost [USD] z Zone y Year">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Model structure &mdash; PREP-SHOT (latest) documentation in English</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/algolia.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css?5" type="text/css" />
      <link rel="stylesheet" href="_static/css/dev.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="_static/es5/tex-chtml.js"></script>
        <script src="_static/js/custom.js?3"></script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
        <script defer="defer" src="_static/js/algolia.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="Changelog.html" />
    <link rel="prev" title="Users guide" href="Users_guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/SVG-04.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#installation-steps">Installation Steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#install-gurobi">1. Install Gurobi</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#install-miniconda">2. Install Miniconda</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#create-the-conda-environment">3. Create the Conda Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#run-a-model">4. Run a Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#features">Features</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#introduction-to-prep-shot">Introduction to PREP-SHOT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#what-can-the-model-do">What can the model do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#what-do-i-need-to-know-to-use-prep-shot">What do I need to know to use PREP-SHOT?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#cost-source">Cost Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#model-concept">Model concept</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Users_guide.html">Users guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Users_guide.html#prepare-inputs">Prepare inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Users_guide.html#run-model">Run model</a></li>
<li class="toctree-l2"><a class="reference internal" href="Users_guide.html#read-output">Read output</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#notations">Notations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sets">1. Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variables">2. Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">3. Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objective-function">4. Objective function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text-factor-y-text-var">4.1 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{var}\)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text-factor-y-text-fix">4.2 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{fix}\)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text-factor-y-text-inv">4.3 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{inv}\)</span></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#constraints">5. Constraints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#retirement-constraints">5.1 Retirement constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#carbon-dioxide-emission-restriction">5.2 Carbon dioxide emission restriction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-balance">5.3 Power balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transmission-loss-constraints">5.4 Transmission loss constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maximum-output-constraint">5.5 Maximum output constraint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storage-constraint">5.6 Storage constraint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ramping-constraint">5.7 Ramping constraint</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Changelog.html#version-0-1">Version 0.1</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PREP-SHOT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Model structure</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Zhanwei-Liu/PREP-SHOT/blob/main/doc/source/Model_structure.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="model-structure">
<h1>Model structure<a class="headerlink" href="#model-structure" title="Permalink to this heading">¶</a></h1>
<section id="notations">
<h2>Notations<a class="headerlink" href="#notations" title="Permalink to this heading">¶</a></h2>
<section id="sets">
<h3>1. Sets<a class="headerlink" href="#sets" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-left">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{te}\)</span></p></td>
<td><p>Total cost of whole energy system [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(h\)</span></p></td>
<td><p>Variable Operation and Maintenance (O&amp;M) cost [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(m\)</span></p></td>
<td><p>Fixed O&amp;M cost [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(z\)</span></p></td>
<td><p>Zone</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
<td><p>Year</p></td>
</tr>
</tbody>
</table>
</section>
<section id="variables">
<h3>2. Variables<a class="headerlink" href="#variables" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-left">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}\)</span></p></td>
<td><p>Total cost of whole energy system [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}^\text{var}\)</span></p></td>
<td><p>Variable Operation and Maintenance (O&amp;M) cost [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}^\text{fix}\)</span></p></td>
<td><p>Fixed O&amp;M cost [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}^\text{newtech}\)</span></p></td>
<td><p>Investment cost of technologies [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}^\text{newline}\)</span></p></td>
<td><p>Investment cost of transmission lines [RMB]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{gen}_{h,m,y,z,te}\)</span></p></td>
<td><p>Generating capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology of <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [MWh]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{existing}_{y,z,te}\)</span></p></td>
<td><p>Existing installed capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology of the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the :math:y-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{newtech}_{y,z,te}\)</span></p></td>
<td><p>New-built installed capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology of the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{newline}_{y,z_s,z_o}\)</span></p></td>
<td><p>New-built transmission line capacity from the <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to the <span class="math notranslate nohighlight">\(z_o\)</span>-th zone in the <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{remaining}_{y,z,te}\)</span></p></td>
<td><p>Remaining capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the starting year</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{carbon}^\text{tech}_{y,te}\)</span></p></td>
<td><p>Carbon emission of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology all zones in the <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{slack}_{h,y,z}\)</span></p></td>
<td><p>Unserved demand of <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{trans}^\text{import}_{h,y,z1,z}\)</span></p></td>
<td><p>Generation output imported from the <span class="math notranslate nohighlight">\(z1\)</span>-th zone to  the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{retire}_{y,z,te}\)</span></p></td>
<td><p>Retire capacity of the <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in the <span class="math notranslate nohighlight">\(z\)</span>-th zonein the <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{storage}^\text{level}_{y,z,te}\)</span></p></td>
<td><p>Storage level in the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{consumption}_{h,y,z,te}\)</span></p></td>
<td><p>Costs of fuel consumption in the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{gen}^\text{up}_{h,y,z,te}\)</span></p></td>
<td><p>Output of change upward in the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{gen}^\text{down}_{h,y,z,te}\)</span></p></td>
<td><p>Output of change downward in the <span class="math notranslate nohighlight">\(z\)</span>-th zone in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters">
<h3>3. Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h3>
<table class="docutils align-left">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C^\text{var}_{y,te}\)</span></p></td>
<td><p>Variable O&amp;M cost of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology <span class="math notranslate nohighlight">\(y\)</span>-th year [USD/MWh]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(C^\text{fix}_{y,te}\)</span></p></td>
<td><p>Fixed O&amp;M cost of of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology <span class="math notranslate nohighlight">\(y\)</span>-th year [USD/kWy]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C^\text{newtech}_{y,te}\)</span></p></td>
<td><p>Investment cost of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology <span class="math notranslate nohighlight">\(y\)</span>-th year [USD/KW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(C^\text{newline}_{y,te}\)</span></p></td>
<td><p>Investment cost of transmission line in <span class="math notranslate nohighlight">\(y\)</span>-th year [USD/(MW*km)]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{DF}_{y}\)</span></p></td>
<td><p>Discount factor for each year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Carbon}_{y,te}\)</span></p></td>
<td><p>Carbon content of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year [Ton/MWh]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\overline{\text{Carbon}}_y\)</span></p></td>
<td><p>Upper bound of carbon dioxide for all zones in <span class="math notranslate nohighlight">\(y\)</span>-th year [Ton]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Demand}_{h,z,y}\)</span></p></td>
<td><p>Load demand of <span class="math notranslate nohighlight">\(z\)</span>-th zone in <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{Effi}^\text{trans}_{z1,z,y}\)</span></p></td>
<td><p>Efficiency of transmission line from <span class="math notranslate nohighlight">\(z1\)</span>-th zone to <span class="math notranslate nohighlight">\(z\)</span>-th zone in <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Installed}^\text{init}_{z,te}\)</span></p></td>
<td><p>Installed capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology <span class="math notranslate nohighlight">\(z\)</span>-th zone in starting year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{Effi}^\text{storage}_{y,te}\)</span></p></td>
<td><p>Energy storage conversion efficiency of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Storage}^\text{init}_{z}\)</span></p></td>
<td><p>Storage level of <span class="math notranslate nohighlight">\(z\)</span>-th zone in starting year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{Storage}^\text{end}_{y, z}\)</span></p></td>
<td><p>Minimum storage level of <span class="math notranslate nohighlight">\(z\)</span>-th zone in the end of each year [MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(R^\text{up}_{te}\)</span></p></td>
<td><p>Maximum upward ramping ratio of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(R^\text{down}_{te}\)</span></p></td>
<td><p>Maximum downward ramping ratio of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Cap}^\text{factor}_{h,z,te}\)</span></p></td>
<td><p>Capacity factor of the <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in the <span class="math notranslate nohighlight">\(h\)</span>-th hour <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
</tbody>
</table>
</section>
<section id="objective-function">
<h3>4. Objective function<a class="headerlink" href="#objective-function" title="Permalink to this heading">¶</a></h3>
<p>The objective function of the model is to minimize the net present value of  the cost of the whole system, which includes investment cost, fixed O&amp;M cost, variable cost and fuel cost by cost type, technology cost and transmission line cost by source of cost and operation cost and planning cost by source of cost. As follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}cost &amp;= cost_{tech}^{var} + cost_{line}^{var} + cost^{fuel} + cost_{tech}^{fix} + cost_{line}^{fix} + cost_{tech}^{inv} + cost_{line}^{inv} \\
cost_{tech}^{var} &amp;= \frac{\sum_{t,m,y,z,te}C_{y,z,te}^{tech-var}\times gen_{t,m,y,z,te}}{Weight} \times factor_{y}^{var} \\
cost_{line}^{var} &amp;= \frac{\sum_{t,m,y,z_s,z_o}C_{y,z}^{line-var}\times export_{t,m,y,z_s,z_o}}{Weight} \times factor_{y}^{var} \\
cost^{fuel} &amp; = \frac{\sum_{t,m,y,z,te}C_{y,z,te}^{fuel}\times gen_{t,m,y,z,te}}{Weight} \times factor_{y}^{var} \\
cost_{tech}^{fix} &amp;= \sum_{y,z,te}C_{y,z,te}^{tech-fix}\times cap_{y,z,te}^{existing-tech}\times factor_{y}^{fix} \\
cost_{line}^{fix} &amp;= \sum_{y,z_s,z_o}C_{y,z_s,z_o}^{line-fix}\times cap_{y,z_s,z_o}^{existing-line}\times factor_{y}^{fix} \\
cost_{tech}^{inv} &amp;=  \sum_{y,z,te}C_{y,z,te}^{tech-inv}\times cap_{y,z,te}^{tech-inv}\times factor_{y}^{inv} \\
cost_{line}^{inv} &amp;= \sum_{y,z_s,z_o}C_{y,z_s,z_o}^{line-inv}\times cap_{y,z_s,z_o}^{line-inv}\times factor_{y}^{inv} \times 0.5\end{split}\]</div>
<p>where variables</p>
<table class="docutils align-left">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}\)</span></p></td>
<td><p>total cost [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}_\text{tech}^\text{var}\)</span></p></td>
<td><p>variable cost of technologies [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}_\text{line}^\text{var}\)</span></p></td>
<td><p>variable cost of transmission lines [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}^\text{fuel}\)</span></p></td>
<td><p>fuel cost of technologies [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}_\text{tech}^\text{fix}\)</span></p></td>
<td><p>fixed cost of technologies [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}_\text{line}^\text{fix}\)</span></p></td>
<td><p>fixed cost of transmission lines [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cost}_{tech}^{inv}\)</span></p></td>
<td><p>investment cost of technologies [USD]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cost}_\text{line}^\text{inv}\)</span></p></td>
<td><p>investment cost of transmission lines [USD]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{gen}_{t,m,y,z,\text{te}}\)</span></p></td>
<td><p>generation electricity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(t\)</span>-th hour <span class="math notranslate nohighlight">\(m\)</span>-th time period <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [MWh]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{export}_{t,m,y,z_s,z_o}\)</span></p></td>
<td><p>transmission electricity from <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to <span class="math notranslate nohighlight">\(z_o\)</span>-th zone in <span class="math notranslate nohighlight">\(t\)</span>-th hour <span class="math notranslate nohighlight">\(m\)</span>-th time period <span class="math notranslate nohighlight">\(y\)</span>-th year [MWh]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{existing-tech}_{y,z,te}\)</span></p></td>
<td><p>existing installed capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{existing-line}_{y,z_s,z_o}\)</span></p></td>
<td><p>existing transmission capacity from <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to <span class="math notranslate nohighlight">\(z_o\)</span>-th zone in <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{tech-inv}_{y,z,te}\)</span></p></td>
<td><p>new-build installed capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{cap}^\text{line-inv}_{y,z_s,z_o}\)</span></p></td>
<td><p>new-build capacity of transmission line from <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to <span class="math notranslate nohighlight">\(z_o\)</span>-th zone in <span class="math notranslate nohighlight">\(y\)</span>-th year [MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{factor}^\text{var}_{y}\)</span></p></td>
<td><p>variable cost economic factor in <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{factor}^\text{fix}_{y}\)</span></p></td>
<td><p>fixed cost economic factor in <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\text{factor}^\text{inv}_{y}\)</span></p></td>
<td><p>investment cost economic factor in <span class="math notranslate nohighlight">\(y\)</span>-th year</p></td>
</tr>
</tbody>
</table>
<p>where parameters:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">:widths: 10 80
 :header-rows: 0
 :align: left</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C_{y,z,te}^\text{tech-var}\)</span></p></td>
<td><p>variable cost of unit capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [USD/MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(C_{y,z}^\text{line-var}\)</span></p></td>
<td><p>variable cost of unit capacity of transmission line in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [USD/MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C_{y,z,te}^\text{fuel}\)</span></p></td>
<td><p>fuel cost of unit generation electricity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [USD/MWh]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(C_{y,z,te}^\text{tech-fix}\)</span></p></td>
<td><p>fixed cost of unit capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [USD/MW/y]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C_{y,z_s,z_o}^\text{line-fix}\)</span></p></td>
<td><p>fixed cost of unit capacity of transmission line from <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to <span class="math notranslate nohighlight">\(z_o\)</span>-th zone [USD/MW/y]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(C_{y,z,te}^\text{tech-inv}\)</span></p></td>
<td><p>investment cost of unit capacity of <span class="math notranslate nohighlight">\(\text{te}\)</span>-th technology in <span class="math notranslate nohighlight">\(y\)</span>-th year <span class="math notranslate nohighlight">\(z\)</span>-th zone [USD/MW]</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(C_{y,z_s,z_o}^\text{line-inv}\)</span></p></td>
<td><p>investment cost of transmission lines from <span class="math notranslate nohighlight">\(z_s\)</span>-th zone to <span class="math notranslate nohighlight">\(z_o\)</span>-th zone in <span class="math notranslate nohighlight">\(y\)</span>-th year [USD/MW]</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\text{Weight}\)</span></p></td>
<td><p>proportion of selected scheduling period in a year (8760 hours) that is <span class="math notranslate nohighlight">\(\frac{H\times M}{8760}\)</span></p></td>
</tr>
</tbody>
</table>
<p>How to account for <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{var}\)</span>, <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{fix}\)</span> and <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{inv}\)</span>?</p>
<p>Convert future value of all costs to net present value. Assume variable cost, fixed cost of non-modeled year are equals to year of last modeled year before them.</p>
<section id="text-factor-y-text-var">
<h4>4.1 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{var}\)</span><a class="headerlink" href="#text-factor-y-text-var" title="Permalink to this heading">¶</a></h4>
<a class="reference internal image-reference" href="_images/varcost.png"><img alt="Calculation of variable costs" src="_images/varcost.png" style="width: 400px;" /></a>
<p>Given variable cost of modeled year = <span class="math notranslate nohighlight">\(B\)</span>, discount rate = <span class="math notranslate nohighlight">\(r\)</span>, <span class="math notranslate nohighlight">\(m\)</span>-th modeled year <span class="math notranslate nohighlight">\(m=y-y_{min}\)</span>, depreciation periods = <span class="math notranslate nohighlight">\(n\)</span>. Total present value are calculated as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Total present value} &amp;= \frac{B}{(1+r)^m} + \frac{B}{(1+r)^{m+1}} + \cdots + \frac{B}{(1+r)^{(m+k-1)}} \\
 &amp; = B(1+r)^{(1-m)}\frac{1-(1+r)^k}{r}\end{split}\]</div>
<p>That is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\text{factor}_{y}^{var} &amp;= (1+r)^{1-m_y}\frac{1-(1+r)^{k_y}}{r} \\
m_{y} &amp;= y - y_\text{min} \\
k_{y} &amp;= y_\text{periods} \\\end{split}\]</div>
</section>
<section id="text-factor-y-text-fix">
<h4>4.2 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{fix}\)</span><a class="headerlink" href="#text-factor-y-text-fix" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[\text{factor}_{y}^\text{fix} = factor_{y}^\text{var}\]</div>
</section>
<section id="text-factor-y-text-inv">
<h4>4.3 <span class="math notranslate nohighlight">\(\text{factor}_{y}^\text{inv}\)</span><a class="headerlink" href="#text-factor-y-text-inv" title="Permalink to this heading">¶</a></h4>
<a class="reference internal image-reference" href="_images/invcost.png"><img alt="Calculation of investment costs" src="_images/invcost.png" style="width: 400px;" /></a>
<p>Given weighted average cost of capital (WACC) (or interest rate) = <span class="math notranslate nohighlight">\(i\)</span>, discount rate = <span class="math notranslate nohighlight">\(r\)</span>, <span class="math notranslate nohighlight">\(m\)</span>-th modeled year <span class="math notranslate nohighlight">\(m\)</span> = <span class="math notranslate nohighlight">\(y-y_\text{min}\)</span>, Length of <span class="math notranslate nohighlight">\(m\)</span>-th planning periods = <span class="math notranslate nohighlight">\(k\)</span>, Total present value are calculated as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Total present value} &amp;= \frac{P}{(1+r)^m} \\
&amp; = \frac{\frac{A}{(1+i)} + \frac{A}{(1+i)^2} + \cdots + \frac{A}{(1+i)^n}}{(1+r)^m} \\
&amp; = A\frac{1-(1+i)^{-n}}{i}\times\frac{1}{(1+r)^m} \\
\text{Then}&amp; \\
A &amp;= P\frac{i}{1-(1+i)^{-n}} \\
\text{Then}&amp; \\
 \text{Capital recovery factor} &amp;= \frac{i}{1-(1+i)^{-n}}\end{split}\]</div>
<p>Only calculate the time periods that fall in the modeled time horizon (black color).  Calculated the length of time periods <span class="math notranslate nohighlight">\(k = y_{max} - y\)</span>, calculated net present value are as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Calculated net present value} &amp;= \frac{\frac{A}{(1+r)} + \frac{A}{(1+r)^2} + \cdots + \frac{A}{(1+r)^{min(n, k)}}}{(1+r)^m} \\
\text{if }n \le k &amp; \\
&amp; = \text{Total present value} \\
\text{if }n &gt; k &amp; \\
 &amp;= \frac{A\frac{1-(1+r)^{-k}}{r}}{(1+r)^m} = P\frac{i}{1-(1+i)^{-n}}\times\frac{1-(1+r)^{-k}}{r(1+r)^m} \\
\text{Then}&amp; \\
 factor_{y}^{inv} &amp;= \frac{i}{1-(1+i)^{-n}}\times\frac{1-(1+r)^{-min(n,k)}}{r(1+r)^m}\end{split}\]</div>
</section>
</section>
<section id="constraints">
<h3>5. Constraints<a class="headerlink" href="#constraints" title="Permalink to this heading">¶</a></h3>
<section id="retirement-constraints">
<h4>5.1 Retirement constraints<a class="headerlink" href="#retirement-constraints" title="Permalink to this heading">¶</a></h4>
<p>The model simply considers this part. At the beginning, the initial age can be set for the technology according to the capacity ratio. Each planning and scheduling period only considers the currently available capacity, that is, the existing capacity.</p>
<p>Calculate existing capacity of each technology (<span class="math notranslate nohighlight">\(cap_{y,z,te}^{existing-tech}\)</span>) and existing capacity of transmission lines (<span class="math notranslate nohighlight">\(cap_{y,z,te}^{existing-line}\)</span>) in each year each zone.</p>
<div class="math notranslate nohighlight">
\[\begin{split}cap_{y, z, te}^{existing-tech} &amp; = \sum_{lifetime-age&lt;y-y_{min})}cap_{age,z,te}^{tech-init} + \sum_{(yy\le y) \&amp; (lifetime&gt;y-yy)}cap_{yy,z,te}^{tech-inv} \text{} \forall y,z,te \\
cap_{y, z, te}^{existing-line} &amp; = \sum_{lifetime-age&lt;y-y_{min})}cap_{age,z,te}^{line-init} + \sum_{(yy\le y) \&amp; (lifetime&gt;y-yy)}cap_{yy,z,te}^{line-inv} \text{} \forall y,z,te \\\end{split}\]</div>
</section>
<section id="carbon-dioxide-emission-restriction">
<h4>5.2 Carbon dioxide emission restriction<a class="headerlink" href="#carbon-dioxide-emission-restriction" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[\begin{split}carbon_{y,te}^{tech} &amp; = \sum_{t,m,z}Carbon_{y,z,te}\times gen_{t,m,y,z,te} \quad \forall y,te \\
  carbon_{y} &amp; = \sum_{te}carbon_{y,te}^{tech} \forall y\\
  carbon_{y} &amp; \le \overline{Carbon}_y \forall y\end{split}\]</div>
</section>
<section id="power-balance">
<h4>5.3 Power balance<a class="headerlink" href="#power-balance" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[\begin{split}Demand_{t,m,y,z} = &amp; \sum_{z_s\neq z}import_{t, m, y, z_s, z} - \sum_{z_o\neq z}export_{t, m, y, z, z_o} + \\
                   &amp; \sum_{te}gen_{t, m, y, z, te} - \sum_{te\in storage}charge_{t, m, y, z, te}\quad \forall t,m,y,te\end{split}\]</div>
</section>
<section id="transmission-loss-constraints">
<h4>5.4 Transmission loss constraints<a class="headerlink" href="#transmission-loss-constraints" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[export_{t, m, y, z_s, z_o} \times Effi_{z_s, z_o}^{trans} = import_{t, m, y, z_s, z_o} \quad \forall t,y,z_s\neq z_o\]</div>
</section>
<section id="maximum-output-constraint">
<h4>5.5 Maximum output constraint<a class="headerlink" href="#maximum-output-constraint" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[gen_{t, m, y, z, te} \leq cap_{y, z, te}^{existing-tech} \forall t,m\]</div>
</section>
<section id="storage-constraint">
<h4>5.6 Storage constraint<a class="headerlink" href="#storage-constraint" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[\begin{split}storage_{t,y,z, te}^{level} &amp; = storage_{t-1,y,z, te}^{level} - \frac{gen_{t,y,z,te}}{Effi_{y,te}^{storage}} \quad \forall te \in storage, t,y,z \\
  storage_{t,y,z, te}^{level} &amp; = Storage_{z, te}^{init} \quad \forall t,y=INI,z \\
  storage_{t,y,z}^{level} &amp; = Storage_{z, te}^{end} \quad \forall t,y=END,z\end{split}\]</div>
</section>
<section id="ramping-constraint">
<h4>5.7 Ramping constraint<a class="headerlink" href="#ramping-constraint" title="Permalink to this heading">¶</a></h4>
<div class="math notranslate nohighlight">
\[\begin{split}gen^{up}_{t, m,y,z,te} &amp; \le R^{up}_{te}\times cap_{y,z,te}^{existing-tech} \quad \forall t,m,y,z,te \\
gen^{down}_{t,m,y,z,te} &amp; \le R^{down}_{te}\times cap_{y,z,te}^{existing-tech} \quad \forall t,m,y,z,te \\
gen^{up}_{t,m,y,z,te} - gen^{down}_{t,m,y,z,te} &amp; = gen_{t,m,y,z,te} - gen_{t-1,m,y,z,te} \quad \forall t,m,y,z,te\end{split}\]</div>
<section id="mathematical-documentation">
<h5>Mathematical documentation<a class="headerlink" href="#mathematical-documentation" title="Permalink to this heading">¶</a></h5>
<p>Continue here if you want to understand the formulation of the objective function and constraints of the model.</p>
</section>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Users_guide.html" class="btn btn-neutral float-left" title="Users guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Zhanwei Liu and Xiaogang He (CC BY 3.0).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>